openapi: 3.0.3
info:
  title: API de Previsão de Cotações - LSTM
  description: |
    # API de Previsão de Cotações usando LSTM
    
    Esta API fornece previsões de preços de fechamento para ações brasileiras do próximo dia útil usando redes neurais LSTM (Long Short-Term Memory).
    
    ## Características Principais
    
    - **Previsões em Tempo Real**: Previsões para o próximo dia útil baseadas em dados históricos de 3 anos
    - **Modelos Individuais**: Cada ação possui seu próprio modelo LSTM treinado especificamente
    - **Versionamento de Modelos**: Suporte a múltiplas versões de modelos (v1, v2, v3...)
    - **Métricas de Performance**: MAE, RMSE e MAPE para avaliação da qualidade das previsões
    - **Cache Inteligente**: Sistema de fallback com cache SQLite local
    - **Monitoramento**: Integração com Prometheus para observabilidade completa
    - **Retreinamento Dinâmico**: Endpoint para retreinar modelos com hiperparâmetros customizados
    
    ## Ações Suportadas
    
    | Ticker | Empresa | Setor | Status |
    |--------|---------|-------|--------|
    | VALE3 | Vale S.A. | Mineração | ✅ Ativo |
    | PETR4 | Petrobras PN | Petróleo e Gás | ✅ Ativo |
    | ITSA4 | Itaúsa PN | Holding Financeira | ✅ Ativo |
    | MGLU3 | Magazine Luiza ON | Varejo | ✅ Ativo |
    | TAEE11 | Taesa UNT | Energia Elétrica | ✅ Ativo |
    
    ## Arquitetura do Modelo LSTM
    
    ```
    Input Layer (60 timesteps, 1 feature)
        ↓
    LSTM Layer 1 (50 units, return_sequences=True)
        ↓
    Dropout (0.2)
        ↓
    LSTM Layer 2 (50 units, return_sequences=False)
        ↓
    Dropout (0.2)
        ↓
    Dense Layer 1 (25 units, ReLU activation)
        ↓
    Dense Layer 2 (1 unit, Linear activation)
        ↓
    Output (Predicted Price)
    ```
    
    ## Fonte de Dados
    
    - **Primária**: Yahoo Finance API (yfinance 0.2.36)
    - **Fallback**: Cache SQLite local
    - **Período**: 3 anos de dados históricos
    - **Intervalo**: Dados diários (1d)
    - **Janela de Lookback**: 60 dias
    
    ## Métricas de Avaliação
    
    - **MAE (Mean Absolute Error)**: Erro médio absoluto entre previsão e valor real
    - **RMSE (Root Mean Square Error)**: Raiz do erro quadrático médio (penaliza erros maiores)
    - **MAPE (Mean Absolute Percentage Error)**: Erro percentual médio absoluto
    
    ## Tecnologias Utilizadas
    
    - **Framework**: FastAPI + Uvicorn
    - **ML**: TensorFlow/Keras 2.x
    - **Dados**: Pandas, NumPy, scikit-learn
    - **Monitoramento**: Prometheus + Grafana
    - **Containerização**: Docker + Docker Compose
    - **Base de Dados**: SQLite (cache local)
    
    ## Observabilidade
    
    A API coleta métricas detalhadas via Prometheus:
    - `http_requests_total`: Total de requisições por método, endpoint e status
    - `http_request_duration_seconds`: Histograma de latência das requisições
    
    Acesse `/metrics` para visualizar as métricas em formato Prometheus.
    
  version: 1.0.0
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8000
    description: Servidor de Desenvolvimento Local
  - url: https://api.previsoes.com
    description: Servidor de Produção

tags:
  - name: Previsões
    description: Endpoints para obter previsões de preços de ações
  - name: Histórico
    description: Endpoints para consultar previsões históricas
  - name: Modelos
    description: Endpoints para gerenciamento e retreinamento de modelos
  - name: Monitoramento
    description: Endpoints para observabilidade e métricas

paths:
  /cotacao/previsao/{acao}:
    get:
      tags:
        - Previsões
      summary: Obter Previsão de Preço
      description: |
        Retorna a previsão do preço de fechamento para o próximo dia útil da ação especificada.
        
        ### Processo de Previsão
        
        1. **Carregamento do Modelo**: Carrega o modelo LSTM treinado, scaler e métricas da versão especificada
        2. **Obtenção de Dados**: Baixa os últimos dados da Yahoo Finance (com fallback para cache local)
        3. **Preprocessamento**: Normaliza os últimos 60 dias de preços usando MinMaxScaler
        4. **Inferência**: Executa a previsão usando o modelo LSTM
        5. **Pós-processamento**: Desnormaliza o resultado para obter o preço em BRL
        
        ### Tratamento de Erros
        
        - **404**: Modelo não encontrado para a versão especificada
        - **422**: Parâmetros inválidos (ticker não suportado)
        - **500**: Erro interno (falha na obtenção de dados ou inferência)
        - **503**: Serviço indisponível (falha tanto na API quanto no cache)
        
      parameters:
        - name: acao
          in: path
          required: true
          description: Código da ação (ticker) para previsão
          schema:
            type: string
            enum: [VALE3, PETR4, ITSA4, MGLU3, TAEE11]
          example: VALE3
        - name: versao
          in: query
          required: false
          description: |
            Versão do modelo a ser utilizada para a previsão.
            
            **Versões Disponíveis:**
            - `v1`: Modelo inicial (padrão)
            - `v2`: Modelo retreinado com hiperparâmetros otimizados
            - `v3+`: Versões subsequentes conforme retreinamentos
            
            **Nota**: Use `GET /cotacao/previsao/{acao}` para ver versões detectadas automaticamente.
          schema:
            type: string
            pattern: '^v\d+$'
            default: v1
          example: v1
      responses:
        '200':
          description: Previsão obtida com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Prediction'
              examples:
                vale3_prediction:
                  summary: Previsão para VALE3
                  value:
                    symbol: "VALE3.SA"
                    name: "VALE3"
                    predicted_price: 65.42
                    prediction_date: "2024-01-15"
                    MAE: 1.23
                    RMSE: 1.87
                    MAPE: 2.45
                petr4_prediction:
                  summary: Previsão para PETR4
                  value:
                    symbol: "PETR4.SA"
                    name: "PETR4"
                    predicted_price: 32.18
                    prediction_date: "2024-01-15"
                    MAE: 0.89
                    RMSE: 1.34
                    MAPE: 3.12
        '404':
          description: Modelo não encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                detail: "Pasta 'v5' não encontrada no servidor."
        '422':
          description: Parâmetros inválidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
              example:
                detail:
                  - loc: ["path", "acao"]
                    msg: "value is not a valid enumeration member"
                    type: "type_error.enum"
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                detail: "Erro ao carregar dados ou executar previsão"
        '503':
          description: Serviço indisponível
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                detail: "Falha ao obter dados da Yahoo Finance e cache local indisponível"

  /cotacao/historico/{acao}:
    get:
      tags:
        - Histórico
      summary: Obter Histórico de Previsões
      description: |
        Retorna as previsões dos últimos 7 dias úteis para a ação especificada.
        
        ### Funcionalidade
        
        Este endpoint simula previsões históricas para permitir:
        - **Validação de Modelos**: Comparação entre previsões e preços reais
        - **Análise de Performance**: Avaliação da precisão ao longo do tempo
        - **Backtesting**: Teste retrospectivo da estratégia de previsão
        
        ### Metodologia
        
        Para cada dia histórico:
        1. Simula o estado do modelo naquela data
        2. Usa apenas dados disponíveis até aquela data
        3. Gera previsão para o dia seguinte
        4. Compara com o preço real (quando disponível)
        
        ### Casos de Uso
        
        - **Traders**: Avaliar a precisão das previsões antes de tomar decisões
        - **Analistas**: Estudar padrões de erro e sazonalidade
        - **Desenvolvedores**: Validar melhorias nos modelos
        
      parameters:
        - name: acao
          in: path
          required: true
          description: Código da ação (ticker) para consulta histórica
          schema:
            type: string
            enum: [VALE3, PETR4, ITSA4, MGLU3, TAEE11]
          example: PETR4
        - name: versao
          in: query
          required: false
          description: Versão do modelo para análise histórica
          schema:
            type: string
            pattern: '^v\d+$'
            default: v1
          example: v1
      responses:
        '200':
          description: Histórico de previsões obtido com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Prediction'
                minItems: 1
                maxItems: 7
              example:
                - symbol: "PETR4.SA"
                  name: "PETR4"
                  predicted_price: 32.18
                  prediction_date: "2024-01-15"
                  MAE: 0.89
                  RMSE: 1.34
                  MAPE: 3.12
                - symbol: "PETR4.SA"
                  name: "PETR4"
                  predicted_price: 32.25
                  prediction_date: "2024-01-14"
                  MAE: 0.89
                  RMSE: 1.34
                  MAPE: 3.12
                - symbol: "PETR4.SA"
                  name: "PETR4"
                  predicted_price: 32.11
                  prediction_date: "2024-01-13"
                  MAE: 0.89
                  RMSE: 1.34
                  MAPE: 3.12
        '404':
          description: Modelo não encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Parâmetros inválidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /cotacao/retreinar:
    post:
      tags:
        - Modelos
      summary: Retreinar Modelos LSTM
      description: |
        Inicia o processo de retreinamento de todos os modelos LSTM em segundo plano.
        
        ### Processo de Retreinamento
        
        1. **Detecção de Versão**: Identifica automaticamente a próxima versão disponível (v2, v3, etc.)
        2. **Criação de Diretório**: Cria pasta para a nova versão
        3. **Download de Dados**: Obtém dados atualizados de 3 anos para todas as ações
        4. **Treinamento Paralelo**: Treina modelos LSTM para todas as 5 ações simultaneamente
        5. **Salvamento de Artefatos**: Persiste modelos, scalers e métricas
        6. **Atualização de Métricas**: Salva performance no banco de dados
        
        ### Arquitetura do Modelo
        
        - **Camadas LSTM**: 2 camadas com 50 unidades cada
        - **Dropout**: 0.2 para regularização
        - **Camadas Dense**: 25 unidades (ReLU) + 1 unidade (Linear)
        - **Otimizador**: Adam
        - **Função de Perda**: Mean Squared Error (MSE)
        
        ### Callbacks de Treinamento
        
        - **ModelCheckpoint**: Salva melhor modelo baseado na perda de validação
        - **EarlyStopping**: Para o treinamento se não houver melhoria (patience=10)
        
        ### Hiperparâmetros Configuráveis
        
        - **Epochs**: Número de épocas de treinamento (padrão: 100)
        - **Batch Size**: Tamanho do lote (padrão: 32)
        - **Look-back Window**: 60 dias (fixo)
        - **Train/Val/Test Split**: 70%/15%/15%
        
        ### Tempo Estimado
        
        - **CPU**: 2-4 horas por modelo (total: 10-20 horas)
        - **GPU**: 30-60 minutos por modelo (total: 2.5-5 horas)
        
        ### Monitoramento
        
        O progresso pode ser acompanhado através dos logs da aplicação e métricas do Prometheus.
        
      parameters:
        - name: epochs
          in: query
          required: false
          description: |
            Número de épocas para treinamento.
            
            **Recomendações:**
            - **Desenvolvimento**: 50-100 épocas
            - **Produção**: 100-200 épocas
            - **Experimentação**: 300+ épocas
            
            **Nota**: Mais épocas não garantem melhor performance devido ao early stopping.
          schema:
            type: integer
            minimum: 10
            maximum: 1000
            default: 100
          example: 150
        - name: batch
          in: query
          required: false
          description: |
            Tamanho do lote para treinamento.
            
            **Impacto no Treinamento:**
            - **Lotes Menores (16-32)**: Convergência mais estável, maior tempo de treinamento
            - **Lotes Maiores (64-128)**: Treinamento mais rápido, pode ser menos estável
            
            **Recomendação**: 32 para melhor equilíbrio entre velocidade e estabilidade.
          schema:
            type: integer
            minimum: 8
            maximum: 256
            default: 32
          example: 32
      responses:
        '200':
          description: Treinamento iniciado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainingStatus'
              example:
                status: "Treinamento iniciado em segundo plano"
                message: "Os modelos serão retreinados com epochs=150 e batch_size=32"
                estimated_time: "2-5 horas"
                new_version: "v2"
        '400':
          description: Parâmetros inválidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                detail: "Epochs deve estar entre 10 e 1000"
        '500':
          description: Erro ao iniciar treinamento
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                detail: "Erro ao inicializar processo de treinamento"

  /metrics:
    get:
      tags:
        - Monitoramento
      summary: Métricas do Prometheus
      description: |
        Endpoint para coleta de métricas pelo Prometheus.
        
        ### Métricas Coletadas
        
        #### Métricas de Requisições HTTP
        - **`http_requests_total`**: Contador total de requisições
          - Labels: `method`, `endpoint`, `status`
          - Exemplo: `http_requests_total{method="GET",endpoint="/cotacao/previsao/VALE3",status="200"} 1542`
        
        #### Métricas de Latência
        - **`http_request_duration_seconds`**: Histograma de duração das requisições
          - Labels: `endpoint`
          - Buckets: 0.005, 0.01, 0.025, 0.05, 0.075, 0.1, 0.25, 0.5, 0.75, 1.0, 2.5, 5.0, 7.5, 10.0, +Inf
        
        ### Configuração do Prometheus
        
        ```yaml
        scrape_configs:
          - job_name: 'fastapi-stock-api'
            static_configs:
              - targets: ['api:8000']
            scrape_interval: 15s
            scrape_timeout: 10s
            metrics_path: '/metrics'
        ```
        
        ### Dashboards Grafana
        
        As métricas podem ser visualizadas em dashboards Grafana para:
        - **Taxa de Requisições**: Requests/segundo por endpoint
        - **Latência**: Percentis P95, P99 de tempo de resposta
        - **Taxa de Erro**: Porcentagem de erros 4xx/5xx
        - **Performance dos Modelos**: MAE, RMSE, MAPE por ação
        
        ### Alertas Recomendados
        
        - **Alta Latência**: P95 > 2 segundos
        - **Taxa de Erro**: > 5% em 5 minutos
        - **Disponibilidade**: < 99% em 15 minutos
        - **Falha de Modelos**: Erro 404 em previsões
        
      responses:
        '200':
          description: Métricas em formato Prometheus
          content:
            text/plain:
              schema:
                type: string
                format: prometheus
              example: |
                # HELP http_requests_total Total de requisições HTTP
                # TYPE http_requests_total counter
                http_requests_total{method="GET",endpoint="/cotacao/previsao/VALE3",status="200"} 1542.0
                http_requests_total{method="GET",endpoint="/cotacao/previsao/PETR4",status="200"} 1234.0
                http_requests_total{method="GET",endpoint="/cotacao/historico/VALE3",status="200"} 456.0
                http_requests_total{method="POST",endpoint="/cotacao/retreinar",status="200"} 12.0
                
                # HELP http_request_duration_seconds Latência das requisições HTTP
                # TYPE http_request_duration_seconds histogram
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="0.005"} 0.0
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="0.01"} 0.0
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="0.025"} 12.0
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="0.05"} 145.0
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="0.1"} 1234.0
                http_request_duration_seconds_bucket{endpoint="/cotacao/previsao/VALE3",le="+Inf"} 1542.0
                http_request_duration_seconds_count{endpoint="/cotacao/previsao/VALE3"} 1542.0
                http_request_duration_seconds_sum{endpoint="/cotacao/previsao/VALE3"} 89.234

components:
  schemas:
    Prediction:
      type: object
      required:
        - symbol
        - name
        - predicted_price
        - prediction_date
        - MAE
        - RMSE
        - MAPE
      properties:
        symbol:
          type: string
          description: |
            Símbolo completo da ação no formato Yahoo Finance (ticker + .SA).
            
            **Formato**: `{TICKER}.SA`
            
            **Exemplos**:
            - `VALE3.SA` - Vale S.A.
            - `PETR4.SA` - Petrobras PN
            - `ITSA4.SA` - Itaúsa PN
          pattern: '^[A-Z0-9]+\.SA$'
          example: "VALE3.SA"
        name:
          type: string
          description: |
            Nome simplificado da ação (ticker sem sufixo).
            
            Usado para identificação rápida e exibição em interfaces.
          pattern: '^[A-Z0-9]+$'
          example: "VALE3"
        predicted_price:
          type: number
          format: float
          description: |
            Preço de fechamento previsto para o próximo dia útil em Reais (BRL).
            
            **Precisão**: 2 casas decimais
            **Moeda**: Real Brasileiro (BRL)
            **Referência**: Preço de fechamento da B3 (Brasil, Bolsa, Balcão)
            
            **Metodologia**:
            1. Modelo LSTM analisa últimos 60 dias de preços
            2. Dados normalizados com MinMaxScaler
            3. Inferência executada
            4. Resultado desnormalizado para BRL
          minimum: 0.01
          maximum: 10000.00
          example: 65.42
        prediction_date:
          type: string
          format: date
          description: |
            Data da previsão no formato ISO 8601 (YYYY-MM-DD).
            
            **Timezone**: UTC-3 (Horário de Brasília)
            **Referência**: Próximo dia útil da B3
            
            **Nota**: A data representa quando a previsão foi gerada, não necessariamente o dia útil seguinte.
          pattern: '^\d{4}-\d{2}-\d{2}$'
          example: "2024-01-15"
        MAE:
          type: number
          format: float
          description: |
            Mean Absolute Error (Erro Médio Absoluto).
            
            **Definição**: Média das diferenças absolutas entre previsões e valores reais.
            **Fórmula**: `MAE = (1/n) * Σ|y_true - y_pred|`
            **Unidade**: Reais (BRL)
            **Interpretação**: Quanto menor, melhor a precisão do modelo
            
            **Benchmarks**:
            - **Excelente**: < 1.0 BRL
            - **Bom**: 1.0 - 2.0 BRL  
            - **Aceitável**: 2.0 - 5.0 BRL
            - **Ruim**: > 5.0 BRL
          minimum: 0.0
          example: 1.23
        RMSE:
          type: number
          format: float
          description: |
            Root Mean Square Error (Raiz do Erro Quadrático Médio).
            
            **Definição**: Raiz quadrada da média dos erros quadráticos.
            **Fórmula**: `RMSE = √[(1/n) * Σ(y_true - y_pred)²]`
            **Unidade**: Reais (BRL)
            **Característica**: Penaliza erros maiores mais severamente que MAE
            
            **Interpretação**:
            - RMSE > MAE indica presença de outliers
            - RMSE ≈ MAE indica erros consistentes
            
            **Benchmarks**:
            - **Excelente**: < 1.5 BRL
            - **Bom**: 1.5 - 3.0 BRL
            - **Aceitável**: 3.0 - 7.0 BRL
            - **Ruim**: > 7.0 BRL
          minimum: 0.0
          example: 1.87
        MAPE:
          type: number
          format: float
          description: |
            Mean Absolute Percentage Error (Erro Percentual Médio Absoluto).
            
            **Definição**: Média dos erros percentuais absolutos.
            **Fórmula**: `MAPE = (100/n) * Σ|(y_true - y_pred)/y_true|`
            **Unidade**: Porcentagem (%)
            **Vantagem**: Métrica independente da escala dos preços
            
            **Interpretação**:
            - Permite comparação entre ações de preços diferentes
            - Útil para avaliar performance relativa
            
            **Benchmarks**:
            - **Excelente**: < 2%
            - **Bom**: 2% - 5%
            - **Aceitável**: 5% - 10%
            - **Ruim**: > 10%
          minimum: 0.0
          maximum: 100.0
          example: 2.45
      example:
        symbol: "VALE3.SA"
        name: "VALE3"
        predicted_price: 65.42
        prediction_date: "2024-01-15"
        MAE: 1.23
        RMSE: 1.87
        MAPE: 2.45

    TrainingStatus:
      type: object
      required:
        - status
      properties:
        status:
          type: string
          description: Status do processo de treinamento
          example: "Treinamento iniciado em segundo plano"
        message:
          type: string
          description: Mensagem detalhada sobre o treinamento
          example: "Os modelos serão retreinados com epochs=150 e batch_size=32"
        estimated_time:
          type: string
          description: Tempo estimado para conclusão
          example: "2-5 horas"
        new_version:
          type: string
          description: Nova versão que será criada
          pattern: '^v\d+$'
          example: "v2"

    Error:
      type: object
      required:
        - detail
      properties:
        detail:
          type: string
          description: Descrição detalhada do erro
          example: "Pasta 'v5' não encontrada no servidor."

    ValidationError:
      type: object
      required:
        - detail
      properties:
        detail:
          type: array
          items:
            type: object
            properties:
              loc:
                type: array
                items:
                  type: string
                description: Localização do erro no request
              msg:
                type: string
                description: Mensagem de erro
              type:
                type: string
                description: Tipo do erro de validação
          example:
            - loc: ["path", "acao"]
              msg: "value is not a valid enumeration member"
              type: "type_error.enum"

  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: |
        Chave de API para autenticação (se implementada no futuro).
        
        **Nota**: Atualmente a API é aberta, mas recomenda-se implementar autenticação para produção.

# Exemplos de uso da API
x-code-samples:
  - lang: 'Python'
    source: |
      import requests
      
      # Obter previsão para VALE3
      response = requests.get('http://localhost:8000/cotacao/previsao/VALE3')
      prediction = response.json()
      print(f"Previsão VALE3: R$ {prediction['predicted_price']:.2f}")
      
      # Obter histórico de previsões
      response = requests.get('http://localhost:8000/cotacao/historico/PETR4')
      history = response.json()
      print(f"Últimas {len(history)} previsões para PETR4")
      
      # Iniciar retreinamento
      response = requests.post('http://localhost:8000/cotacao/retreinar', 
                              params={'epochs': 150, 'batch': 32})
      status = response.json()
      print(f"Status: {status['status']}")

  - lang: 'JavaScript'
    source: |
      // Obter previsão para VALE3
      fetch('http://localhost:8000/cotacao/previsao/VALE3')
        .then(response => response.json())
        .then(data => {
          console.log(`Previsão VALE3: R$ ${data.predicted_price.toFixed(2)}`);
          console.log(`MAE: ${data.MAE}, RMSE: ${data.RMSE}, MAPE: ${data.MAPE}%`);
        });
      
      // Obter histórico
      fetch('http://localhost:8000/cotacao/historico/PETR4?versao=v1')
        .then(response => response.json())
        .then(history => {
          console.log(`Histórico de ${history.length} previsões para PETR4`);
          history.forEach(pred => {
            console.log(`${pred.prediction_date}: R$ ${pred.predicted_price.toFixed(2)}`);
          });
        });

  - lang: 'cURL'
    source: |
      # Obter previsão para VALE3
      curl -X GET "http://localhost:8000/cotacao/previsao/VALE3?versao=v1" \
           -H "accept: application/json"
      
      # Obter histórico de previsões
      curl -X GET "http://localhost:8000/cotacao/historico/PETR4?versao=v1" \
           -H "accept: application/json"
      
      # Iniciar retreinamento
      curl -X POST "http://localhost:8000/cotacao/retreinar?epochs=150&batch=32" \
           -H "accept: application/json"
      
      # Obter métricas do Prometheus
      curl -X GET "http://localhost:8000/metrics" \
           -H "accept: text/plain"